pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	create_player()
	create_apple()
end

function _update()
	move()
	next_tile(x,y)
end

function _draw()
	draw_pig()
	draw_apple()
	pal({[0]=128,129,130,131,132,133,134,135,136,137,138,140,141,142,143},1)
end


-->8
// player

function create_player()

p={
sprite = 1, 
x = 0,
y = 59,
dx=0,
dy=0,
max_dx=2,
max_dy=3,
acc=0.5,
boost=4,
timing = 0.25

}

gravity=0.3
friction=0.85

end

function draw_pig()
    cls()

    spr(p.sprite,p.x,p.y)
    
    rectfill(0,118,127,127,11)

  --display info
   // print("dx= "..p.dx)
   // print("dy= "..p.dy)
    
end


-->8
// move
function move()

			p.dy+=gravity
			p.dx*=friction

 --animate
   p.sprite += p.timing
   if p.sprite > 2 
  	then p.sprite = 1 
  	end
  	
  	if p.sprite > 3
  	then p.sprite = 2
  	end

  --move
 	 if (btn(➡️)) 
 	 then p.x+=1 p.dx+=p.acc
 	 end
 	   
   if (btn(⬅️)) 
   then p.x-=1 p.dx-=p.acc
   end
   
  //(btn(⬆️)) p.y-=1
  //(btn(⬇️)) p.y+=1
  
   if (btnp(5))
    then 
    p.dy-=p.boost
    end -- x
   
  // if fget(4,1) then
	 // a.sprite = 5
  //	end
     
    
     
  // if p.x > 127 then p.x =1 end
   
				
			   --limit left/right speed
    p.dx=mid(-p.max_dx,p.dx,p.max_dx)
    --limit fall speed
    if (p.dy>0) then
        p.dy=mid(-p.max_dy,p.dy,p.max_dy)
    end

    --apply dx and dy to player position
    p.x+=p.dx
    p.y+=p.dy

    --simple ground collision
    if (p.y>110) then p.y=110 p.dy=0 end

    --if run off screen warp to other side
    if (p.x>128) then p.x=0 end
    if (p.x<0) then p.x=128 end


	
				
 end
 
    
   
    
      
-->8
--pommes bio

function create_apple()
	
	a={
	sprite = 4, 
	x = 15,
	y = 110,
	}

end

function draw_apple()
//	cls()
 spr(a.sprite,a.x,a.y)

end

function next_tile(x,y)
 sprite = mget(x,y)
	mset(x,y,sprite+1)
end

function pick_up_apple(x,y)
	next_tile(x,y)
	p.a+=1
	sfx(1)
end
__gfx__
000000000000000000000000000000e0000000000000000000000000000000000000000000000000001110000000000000000000000000000000000000000000
0000000000000000000000000efffff0000000000000000000000000000000000000000000000000001010000000000000000000000000000000000000000000
007007000000000000000000e0ffffff000000000000000000000000000000001111000000000000001000110000000000000000001000000000000000000000
00077000000000e0000000e000eeeee0000200000000000000000000000000001001000000000000001111110007700000000000705070000000000010000000
000770000efffff00efffff00e00000e008380000000000000808000000000001101000000000000000000000007700000000000006000000000000050000000
00700700e0ffffffe0ffffff000000000088f0000000000000888000000000000001000000000000111111110000000000000001567651000000001565100000
0000000000eeeee000eeeee000000000008ff0000000000000080000000011111111000000000000100000000000000000000000006000000000000050000000
00000000000e0e0000e000e000000000000000000000000000000000000000000000000000000000101000000000000000000000005000000000000010000000
00000000000000000000000007000000000000000000000000000000001111111001111000000000101000000000000000000000701070000000000000000000
00000000000000000000000000000000000000000000000000000000001000001000001000000000111000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000001000001000011000000000000000000000000000000000000000000000000000000000
00000000000500000000000000000000000000000000000000000000000001101000000000000000000000000000000000000000000000000000000000000000
0000000000e3e0000000000000000000000700000000000000000000000001001000000000000000000000000000000000000000000000000000000000000000
0000000000eef0000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000
0000000000eff0000000000000000000000000000000000000000000000000000000000000000000000000660000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000066666600000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000076677770660000000000000000000000000000070000000000000000
00000000000000000000000000000000000000000000000000000000000000000000007777666666677000000000000000007777700070000077700000000000
00000000000000000000000000000000000000000000000000000000000000000000077777777777dddd00000000000000000000000000000000070000000000
00000000000000000000000000070000000000000000000000000000006000000000077777777777777d00000000000000000000000000000000007000000000
00000000000000000000000000000000000000000000000000000000066666666000777777777777777dd0000000000000000000000000000000007000000000
000000000000000000000000000000000000000000000000000000000600066060007777777777777777d0666066666000000000000000000111075550000000
00000000000000000000000000000000000000700000000000000000000000006666666777777777777dd0006660000000000000000000000101000050000000
00000000000000000000000000000000000000000000000000000000000000000007667666777777777777000000000000000000000000000001000000000000
00000000000000000000000000000000000000000000000000000000000000000007777777777777777667000000066600000000000000000001005550000000
00000000000000000000000000000000000000000000000000000000000066000007777777777777776667066000060000000070777007111111110005500000
00000000000000000000000000000000000000000000000000000000000666666600777777777777777766666666660000000000000000000000010000050000
0000000000000000000000000000000000000000000000000000000000000000066677777777777777ddd0000000000000000000000000000000110000050000
000000000000000000000000000000000000000000000000000000000000000000000777777777dd7ddd00000000000000000000000000000011100555000000
00000000000000000000000000000000000000000000000000000000000000000000007777777dd7ddd000060000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000777777d77d00000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000777dd70000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000bbbbbbbb000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000bbbbb11bbbb0000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000bbbb1111bbbb000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000bbbbb11bb11bbbbbb000000000000000000000000000000000000000
000000000000000000000000006660000000000000000077700000000000000000000000bbbbbbbbbb1bbbbbbb00000000000000000000000000000000000000
000000000000000000000000000006666666000000007777770700000000000000000bbbbbbbbbbbbb1bbbbbbb00000000000000000000000000000000000000
000000000000000000000000000000000000000007077767666777660000000000000bbbbbbbbbbbbb1bbb1bbbbb000000000000000000000000000000000000
0000000000000000000000000000000000000000777766666777776600000000000bbb1b1bbbbbbbb11bbb11bbbbb00000000000000000000000000000000000
000000000000000077770000000000000000000777777777777777660000000000bbbbb11bbbbbbbb1bbbbb11bbbbb0000000000000000000000000000000000
000000000000000777777770000000000006600667777776777666600000000000bb8bb1bbb8bbb111bbbbbb1bbbbb0000000000000000000000000000000000
00000000000000777777777700000000000000006667777666660000000000000bbbbbb11bbbbbbbbbbbbbbb1bbbbbb000000000000000000000000000000000
00000000000077777777777700777000000000000066666666000000000000000bbbbbbb1bbbbbbbbb8bbbbbb1b8bb1000000000000000000000000000000000
00000000777777777777777777777700000000000000000000000000000000000bbbbbbb111bbbbbbbb11bbbb1bbb11000000000000000000000000000000000
00000077777777777776777777777700000000000000000000000000000000000011bbbbbb11bbbbbbbb1bbb11bbb10000000000000000000000000000000000
000077777777777777777777777777700000000000000000000000000000000000b11bb8bbbbbbbbbbbb11111bbb110000000000000000000000000000000000
0067777777767777777777667777ddd000000000000000000000000000000000000011bbbbb11bbbbbb11bbbbbb1100000000000000000000000000000000000
06777777777777677777777777777ddd000000000000000000000000000000000000011bbb112bbbbb211bbbbb11000000000000000000000000000000000000
0dddd7777777776766777666777ddddd000000000000000000000000000000000000001bb110222bb82111111110000000000000000000000000000000000000
0dddd77777777766667777777ddddddd000000000066000000000000000000001000001111b02222222012011000000100000000000000000000000000000000
0dddddddd7777777777777ddddd00ddd000000000006666666666666000000001100000044000422224044000000001100000000000000000000000000000000
00dddddddddddddd777ddddddd000000000000000000000000000000000000007710000004444442244440000000017110000000000000000000000000000000
000000000dddddddddddd000d0000000000000000000000000000000000000001710000000000444444400000000111111100000000000000000000000000000
00000000000000dddddd000000000000000000000000000000000000000000001811100000000444444000000000011118100000000000000444444440000000
1111111100000000dd0000000000000000000000000000000000000000000000111110000000445544440000001d118118100000000000000444444440000000
11111111000000000000000000000000000000000000000000000000000000001181100000044454444000001111111118810000000000000444444440000000
11111111000000000000000000000000000000000000000000000000000000001111111004444554444000001111111118810000000000000445544440000000
11111111000000000000000000000000000000000000000000000000000000001111111114444544444400011111811888111110000000000545564440000000
11111111000000000000000000000000000000000000000000000000000000001113333144444544444400111111111111111110000000000545564440000000
11111111000000000000000000000000000000000000000000000000000000001133337334445544444433111111111333111111100000000545664440000000
11111111000000000000000000000000000000000000000000000000000000003333333333333333333333333333333333333333333333333564444440000000
11111111000000000000000000000000000000000000000000000000000000003333333333333333333333333333333333333333333333333555444440000000
00000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000770000000000000000000000000000000000000
00000000000000000070000000000000000007000000000000000000000000000000000000000000000000007777770000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000070000000007777776600000000000000000000000000000000
00000000000000000700000700000000000000000000000000000000000000000000000000007667700007777777776700000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000700000000007707077767777077766777776777000000000000000000000060000000
00000000000000007000000000000001000000000000000000000000000000000000777777777766777776667777776777000000000000000000000000000000
00000000000000000000000000000001000000000000000000000000000000000000777777777777777776777777777777700000900000000000000000000000
000000000000000000000000000000110000000000000000000700000000000000000777d77777777777767767777d7777000800000080000000000000000000
000000000000000000000000000000111000007000000000000000000000000000000077dd77ddd77777766667777ddd00000000a00000000000000000000000
0000000000000000000000000000017710000000000000000000000000000000000000000d7dddd7777777777777dddd008000999990000a0000000000000000
0000000000000000000000000000017711000000000000000000000000000000770000000d7dddd7777777777777ddd000009999999990000000000000000000
00000000000000000700000000001177710000000000000000000000000000007770000000dd00dd77777777777ddd00a0099a99999999008000000000000000
0000000000000000000000000001777777100000000000000000000000000000777770000000000dddd77777d77d0000000a99a9999999000000000000000000
0000000000000000000000000001777777110000000000000000000000000000777777700000000000dd777dddd0000000aa9999999999909000000000000000
000000000000000000000000001177777771100000000000000000000000000077766770000000000dddddddddd0000090aaa98a999999900000000000000000
00000000000000000011000001177777777711000000000000000000070000007ddd777770000000000ddddd0000000000888a99999999000000000000000000
0000000000070000007500001177777766677710000000000000000000000000ddddd000000000000000000000000000a00aaaa99a9999009000000000000000
0000000000000000007510001176667666666661000000007000000000000000ddddd000000000000000000000000000000889aa999990000000000000000000
000007000000000000751177667766666666666667100000000000000000000000000000000000000000000000000000000088aaa99900000000000000000000
00000000000000000175117766666666666655555711000000000000000000000000000000000000000000000000000000000000a00000800000000000000000
000000000000000077777776666666665555dddd77711000000000000000000000000000000000000000000000000000000a00000000a0000000000000000000
0000000000010000077d7766666666655dddddddd777100000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001777177777dd77666555555dddddddddd77111111111011110000000000000000000000000000000000000000000000000000000000000000000000
0007700017757177777dd77055ddddddddddddddddd7711777dd111dd11110000000000000000000000000000000000000000000000000000000000000000000
1077777177d177777ddddddddddddddddddddddddddd777776dd5dddddd771000000000000000000000000000000000000000000000000000000000000000000
1771757775dd1d777ddddddddd0dddddddddddddddddd77dddddd55ddd7777110000000000000000000000000000000000000000000000000000000000000000
15ddd55155dddddd77ddddddddddddddddddddddddddddddd5ddd5555d7777710000000000000000000000000000000000000000000000000000000000000000
222222211ddddddddddddddddddddd02222222dd111dddddddd151155dd117770000000000000000000000000000000000000000000000000000000000000000
222222121d1111111111770000000000022222ddd1111dddddd11111111111170000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000002040000000000000000000000040001010000000000000000000000000000010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
88b94d4d4d4d45464d4d4d4d4d4d4d4d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88898a8b4d4d55564d4d4d4d4d4d4d4d0000000a000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
98999a9b9c9d4d4d43545051525307080d00001a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4d4daaabacad4d4d4d54606162634d4d2728292a2b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
48494a4b4d4d4d4d4d65664d4d0a4d4d3738393a2b000f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
58595a5b4d4d4d4d064d4d4d4d4d0d4d00a2a3a4a50708000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
68696a6b6c044d4d4d05044d5d054db0b1b2b3b4b5b6b7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
78797a7b7c7d7e047d7d7d7e787d7d7070707070707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4d4d4d4d4d4d4d4d4d4d4d4d4d4d217070707070707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000000000180501c0501e0501f0502205025050280502c050300503205000000370503a0503c0503d0503c0503a05034050260501a0501105002050000000000000000000000000000000000000000000000
0010000008050090500d05012050360503605034050320503d050310503b0502e050000002c05000000260503e050230503a050200501d0501a05017050150501005012050000000e05000000080500b05000000
